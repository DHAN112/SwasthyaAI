{% load static i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>SwasthyaAI | Holistic Wellness</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
   
    <style>
        body { font-family: 'Poppins', sans-serif; }
       
        /* --- Glassmorphism Effects --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }


        .glass-card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass-card-hover:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.15); /* Green Glow */
            border-color: #10b981;
        }


        /* --- New: Active State CSS (For Future Use) --- */
        .active-card {
            border: 2px solid #10b981;
            box-shadow: 0 0 0 4px rgba(16,185,129,0.15);
        }


        /* --- Background Animation (Ken Burns) --- */
        .ken-burns {
            animation: kenBurns 25s infinite alternate;
        }
        @keyframes kenBurns {
            0% { transform: scale(1); }
            100% { transform: scale(1.15); }
        }


        /* --- Preloader --- */
        #preloader {
            position: fixed;
            inset: 0;
            background: #f0fdf4;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease-out, visibility 0.8s;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col overflow-x-hidden">


    <div id="preloader" aria-hidden="true">
        <div class="text-center">
            <div class="w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce shadow-xl">
                <i class="fas fa-leaf text-white text-3xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-green-800 tracking-wider">SWASTHYA<span class="text-green-600">AI</span></h2>
            <p class="text-green-600 text-xs font-semibold mt-2 uppercase tracking-widest">Loading Harmony...</p>
        </div>
    </div>


    {% if user.is_authenticated %}


    <nav role="navigation" aria-label="Main Navigation" class="w-full px-6 py-4 flex justify-between items-center bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm border-b border-white/50">
        <div class="flex items-center space-x-3">
            <div class="w-9 h-9 bg-gradient-to-tr from-green-600 to-emerald-400 rounded-xl flex items-center justify-center text-white shadow-lg">
                <i class="fas fa-spa text-sm"></i>
            </div>
            <h1 class="text-xl font-bold text-gray-800 tracking-tight">Swasthya<span class="text-green-600">AI</span></h1>
        </div>
       
        <div class="flex items-center gap-4">
            <div class="hidden md:flex flex-col text-right">
                <span class="text-xs text-gray-400 uppercase font-bold tracking-wider">Welcome Back</span>
                <span class="text-sm font-bold text-gray-800">{{ user.username }}</span>
               
                <span class="inline-flex items-center justify-end text-[10px] font-bold text-green-600 mt-0.5">
                    <i class="fas fa-check-circle mr-1"></i> Profile Active
                </span>
            </div>
           
            <a href="{% url 'logout' %}" class="bg-red-50 text-red-500 w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-500 hover:text-white transition-all shadow-sm" title="Secure Logout">
                <i class="fas fa-power-off"></i>
            </a>
        </div>
    </nav>


    <main role="main" class="flex-grow container mx-auto px-4 py-10 relative z-10 flex flex-col justify-center">
       
        <div class="text-center max-w-2xl mx-auto mb-12 animate__animated animate__fadeInDown">
            <h2 class="text-4xl font-extrabold text-gray-900 mb-3">Your Ayurvedic Journey</h2>
            <p class="text-lg text-gray-500">Select a tool below to balance your mind, body, and soul.</p>
        </div>


        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto animate__animated animate__fadeInUp">


            <a href="{% url 'dashboard' %}" title="View your health statistics and progress" class="glass-panel glass-card-hover p-8 rounded-3xl relative group overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-chart-pie text-9xl text-blue-600 transform rotate-12"></i>
                </div>
                <div class="w-14 h-14 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center text-2xl mb-5 shadow-sm">
                    <i class="fas fa-columns"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">My Dashboard</h3>
                <p class="text-sm text-gray-500 leading-relaxed">View your health statistics, past assessments, and daily progress.</p>
            </a>


            <a href="{% url 'prakriti_assessment' %}" title="Take the quiz to find your Dosha" class="glass-panel glass-card-hover p-8 rounded-3xl relative group overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-fire text-9xl text-orange-600 transform rotate-12"></i>
                </div>
                <div class="w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center text-2xl mb-5 shadow-sm">
                    <i class="fas fa-clipboard-check"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Prakriti Quiz</h3>
                <p class="text-sm text-gray-500 leading-relaxed">Discover your unique Dosha type (Vata, Pitta, Kapha) with AI.</p>
            </a>


            <a href="{% url 'chatbot' %}" title="Ask instant questions to the AI" class="glass-panel glass-card-hover p-8 rounded-3xl relative group overflow-hidden border-green-200">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-robot text-9xl text-green-600 transform rotate-12"></i>
                </div>
                <div class="w-14 h-14 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center text-2xl mb-5 shadow-sm">
                    <i class="fas fa-comments"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">AI Health Expert</h3>
                <p class="text-sm text-gray-500 leading-relaxed">Chat with our intelligent assistant for instant Ayurvedic remedies.</p>
            </a>


            <a href="{% url 'personalized_diet_and_lifestyle' %}" title="Get food recommendations" class="glass-panel glass-card-hover p-8 rounded-3xl relative group overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-carrot text-9xl text-emerald-600 transform rotate-12"></i>
                </div>
                <div class="w-14 h-14 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center text-2xl mb-5 shadow-sm">
                    <i class="fas fa-utensils"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Diet & Lifestyle</h3>
                <p class="text-sm text-gray-500 leading-relaxed">Get a personalized Sattvic meal plan tailored to your body type.</p>
            </a>


            <a href="{% url 'yoga_recommendation' %}" title="Watch yoga tutorials" class="glass-panel glass-card-hover p-8 rounded-3xl relative group overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-om text-9xl text-purple-600 transform rotate-12"></i>
                </div>
                <div class="w-14 h-14 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center text-2xl mb-5 shadow-sm">
                    <i class="fas fa-praying-hands"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Yoga Studio</h3>
                <p class="text-sm text-gray-500 leading-relaxed">Video-guided Asanas and meditation techniques for inner peace.</p>
            </a>


        </div>


        <footer role="contentinfo" class="mt-16 text-center text-xs text-gray-400 animate__animated animate__fadeInUp">
            <p>&copy; {% now "Y" %} SwasthyaAI â€¢ Built with Ancient Wisdom & Modern AI ðŸŒ¿</p>
        </footer>


    </main>


    {% else %}


    <div class="relative w-full h-screen overflow-hidden flex flex-col justify-center items-center">
       
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1545205597-3d9d02c29597?auto=format&fit=crop&w=1920&q=80"
                 class="w-full h-full object-cover opacity-100 ken-burns" alt="Ayurveda Nature">
            <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/60"></div>
        </div>


        <div class="absolute top-6 right-6 z-50 animate__animated animate__fadeInRight">
            <form action="{% url 'set_language' %}" method="post" class="glass-panel px-4 py-2 rounded-full flex items-center shadow-lg hover:bg-white transition cursor-pointer">
                {% csrf_token %}
                <input name="next" type="hidden" value="{{ request.path }}">
               
                <i class="fas fa-globe text-green-700 mr-3"></i>
               
                <select aria-label="Select Language" name="language" onchange="this.form.submit()" class="bg-transparent text-gray-800 font-bold text-sm outline-none cursor-pointer appearance-none pr-6">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                            {{ language.name_local }}
                        </option>
                    {% endfor %}
                </select>
                <i class="fas fa-chevron-down text-gray-500 text-xs absolute right-4 pointer-events-none"></i>
            </form>
        </div>


        <div class="relative z-10 w-full max-w-lg px-6 animate__animated animate__zoomIn">
            <div class="glass-panel p-10 md:p-14 rounded-[2.5rem] text-center shadow-2xl backdrop-blur-xl border-white/40">
               
                <div class="w-24 h-24 bg-gradient-to-tr from-green-600 to-emerald-400 rounded-full flex items-center justify-center mx-auto mb-8 shadow-xl shadow-green-600/30">
                    <i class="fas fa-leaf text-white text-4xl"></i>
                </div>


                <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-3 tracking-tight">Swasthya<span class="text-green-600">AI</span></h1>
                <p class="text-gray-600 mb-10 text-lg font-medium">Ancient Wisdom, Modern Science.</p>


                <a href="{% url 'login' %}" title="Log in or Sign up" class="group relative block w-full bg-green-600 text-white font-bold text-lg py-5 rounded-2xl shadow-lg hover:shadow-green-600/40 transition-all transform hover:-translate-y-1 overflow-hidden">
                    <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"></div>
                    <span>Login to Continue</span>
                    <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                </a>
               
                <div class="mt-8 border-t border-gray-200/60 pt-6">
                    <p class="text-xs text-gray-500 font-medium">
                        Secure Access â€¢ AI Powered â€¢ Personalized
                    </p>
                </div>
            </div>
        </div>
       
    </div>


    {% endif %}


    <script>
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            setTimeout(() => {
                preloader.style.opacity = '0';
                preloader.style.visibility = 'hidden';
            }, 1000); // 1 second delay
        });
    </script>
   
    <style>
        @keyframes shimmer {
            100% { transform: translateX(100%); }
        }
    </style>


</body>
</html>
